name: Welcome Street Food Innovators

on:
  issues:
    types: [opened]
  pull_request_target:
    types: [opened]
    
jobs:
  greet:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - uses: actions/first-interaction@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          issue-message: |
            🌟 Hello @${{ github.actor }}!
            
            Welcome to the Digital Transformation & Empowerment of Street Food Vendors project! 🍲🚀
            
            Thank you for opening your first issue. Your input helps us empower street food vendors with technology, driving positive social impact.  
            
            👉 Please share your ideas, questions, or suggestions. Check out our [Contribution Guide](CONTRIBUTING.md) to get started.
            
            Together, let's make street food smarter, safer, and more successful!
          pr-message: |
            🎉 Cheers @${{ github.actor }}!
            
            You just made your first pull request to a project dedicated to bringing digital innovation to street food vendors. Your code helps improve the lives and businesses of vendors everywhere. 🙌
            
            Please ensure your PR aligns with our [contribution guidelines](CONTRIBUTING.md). If you want a project mentor, mention `@morningstarxcdcode` in a comment and we’ll reach out!
            
            🌍 Let’s build tech solutions that make a difference on the streets.

      - name: Label First-Time PRs for Street Food Impact
        if: github.event_name == 'pull_request_target'
        uses: actions-ecosystem/action-add-labels@v1
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          labels: |
            street-food-innovator
            first-time-contributor

      - name: Celebrate with Emoji
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const { owner, repo, number } = context.issue;
            await github.reactions.createForIssue({
              owner,
              repo,
              issue_number: number,
              content: 'tada'
            });

      - name: Assign Street Food Mentor (Optional)
        if: github.event_name == 'pull_request_target'
        uses: pozil/auto-assign-issue@v1
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          assignees: |
            morningstarxcdcode
          numOfAssignee: 1
